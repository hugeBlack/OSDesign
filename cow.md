# Lab: Copy-on-Write Fork for xv6

## 思路
1. fork时把所有页面设为只读，加上cow标记
2. 把被cow的页面的共享记数设为2
3. 对cow页面进行写入时把原内容复制，原cow共享记数-1

4. 释放页面时/cow复制时需要对页面进行检查，如果共享记数为0则释放物理页，否则共享记数-1
5. cow无法分配新物理页时终止进程

6. 分配页面时共享记数先设置为1

7. 对于read和write系统调用，由于会陷入内核态调用copyout，所以需要单独处理。